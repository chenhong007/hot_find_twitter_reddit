<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <!-- Background -->
  <rect width="900" height="600" fill="#f8fafc" />
  
  <!-- Definitions -->
  <defs>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2563eb" />
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#dc2626" />
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#059669" />
    </marker>
  </defs>

  <!-- Zone 1: Command Center (Side Panel) -->
  <g id="command-center">
    <rect x="50" y="50" width="250" height="500" rx="12" fill="#eff6ff" stroke="#2563eb" stroke-width="2" />
    <text x="175" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="#1e3a8a">指挥中心 (Side Panel)</text>
    <text x="175" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#60a5fa">src/sidepanel.tsx</text>

    <!-- UI Elements -->
    <rect x="75" y="150" width="200" height="40" rx="4" fill="#3b82f6" />
    <text x="175" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" fill="white">1. 点击 开始抓取</text>

    <rect x="75" y="250" width="200" height="250" rx="4" fill="white" stroke="#bfdbfe" />
    <line x1="75" y1="290" x2="275" y2="290" stroke="#bfdbfe" />
    <line x1="75" y1="330" x2="275" y2="330" stroke="#bfdbfe" />
    <line x1="75" y1="370" x2="275" y2="370" stroke="#bfdbfe" />
    <text x="175" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#1e40af">数据展示区 (表格)</text>
    <text x="175" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#93c5fd">实时更新...</text>
    
    <rect x="75" y="510" width="200" height="30" rx="4" fill="#10b981" />
    <text x="175" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" fill="white" font-size="12">导出 Excel/CSV</text>
  </g>

  <!-- Zone 2: Reality (Twitter Page) -->
  <g id="twitter-page">
    <rect x="400" y="50" width="450" height="500" rx="12" fill="#ffffff" stroke="#94a3b8" stroke-width="2" />
    <text x="625" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="18" fill="#334155">现实世界 (Twitter页面)</text>
    
    <!-- Mock Tweets -->
    <g opacity="0.5">
      <rect x="425" y="130" width="400" height="80" rx="4" fill="#f1f5f9" stroke="#e2e8f0" />
      <circle cx="455" cy="160" r="15" fill="#cbd5e1" />
      <rect x="485" y="150" width="100" height="10" fill="#cbd5e1" />
      <rect x="485" y="170" width="300" height="10" fill="#e2e8f0" />
    </g>
    
    <!-- Target Tweet being scanned -->
    <g>
      <rect x="425" y="230" width="400" height="120" rx="4" fill="#fff" stroke="#cbd5e1" stroke-width="1" />
      <circle cx="455" cy="260" r="15" fill="#0ea5e9" />
      <rect x="485" y="250" width="120" height="12" fill="#0f172a" />
      <text x="490" y="260" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Author: @user</text>
      <rect x="485" y="280" width="320" height="40" fill="#f8fafc" />
      <text x="490" y="305" font-family="Arial, sans-serif" font-size="12" fill="#334155">Hello World...</text>
    </g>
    
    <g opacity="0.5">
       <rect x="425" y="370" width="400" height="80" rx="4" fill="#f1f5f9" stroke="#e2e8f0" />
       <circle cx="455" cy="400" r="15" fill="#cbd5e1" />
       <rect x="485" y="390" width="100" height="10" fill="#cbd5e1" />
    </g>
  </g>

  <!-- Zone 3: Agent World (Overlay) -->
  <g id="agent-overlay">
    <rect x="415" y="210" width="420" height="250" rx="8" fill="none" stroke="#dc2626" stroke-width="3" stroke-dasharray="10,5" />
    <rect x="415" y="190" width="180" height="30" rx="4" fill="#dc2626" />
    <text x="505" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="14" fill="white">特工 (Content Script)</text>
    <text x="735" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#dc2626">src/content.ts</text>

    <!-- Scanner visuals -->
    <rect x="445" y="245" width="360" height="100" fill="rgba(220, 38, 38, 0.1)" stroke="#dc2626" stroke-width="1" />
    <text x="625" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" font-size="16" fill="#dc2626">3. 扫描 提取</text>
    <text x="625" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#991b1b">DOM -&gt; JSON</text>
    
    <!-- Scroll Action -->
    <path d="M 795 370 L 795 430" stroke="#dc2626" stroke-width="2" marker-end="url(#arrow-red)" />
    <text x="715" y="410" text-anchor="end" font-family="Arial, sans-serif" font-size="12" fill="#dc2626">2. 自动滚动</text>
  </g>

  <!-- Connections / Flow -->
  
  <!-- 1. Start Command -->
  <path d="M 300 170 L 415 195" stroke="#2563eb" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrow-blue)" />
  <text x="360" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2563eb">消息: START</text>

  <!-- 4. Data Return -->
  <path d="M 415 330 L 300 330" stroke="#059669" stroke-width="4" marker-end="url(#arrow-green)" />
  <rect x="320" y="315" width="80" height="20" rx="10" fill="#ecfdf5" stroke="#059669" />
  <text x="360" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#047857">4. 数据回传</text>

  <!-- Legend -->
  <rect x="50" y="560" width="800" height="30" fill="#f1f5f9" rx="4" />
  <text x="450" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#475569">流程：用户指令 (蓝) -&gt; 特工执行/滚动 (红) -&gt; 数据提取 -&gt; 传回展示 (绿)</text>
</svg>